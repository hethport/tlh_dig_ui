type Query {
  allManuscripts: [ManuscriptMetaData!]!
  manuscript(mainIdentifier: String!): ManuscriptMetaData
}

type ManuscriptMetaData {
  mainIdentifier: ManuscriptIdentifier!
  provenance: String
  cthClassification: Int
  bibliography: String
  creatorUsername: String!
  palaeographicClassification: PalaeographicClassification!
  palaeographicClassificationSure: Boolean!
  status: ManuscriptStatus
  otherIdentifiers: [ManuscriptIdentifier!]!
  pictureUrls: [String!]!
  transliterationResult: [TransliterationLine!]
}

type ManuscriptIdentifier {
  type: ManuscriptIdentifierType!
  identifier: String!
}

enum ManuscriptIdentifierType {
  ExcavationNumber
  CollectionNumber
  PublicationShortReference
}

enum PalaeographicClassification {
  OldScript
  MiddleScript
  NewScript
  LateNewScript
  OldAssyrianScript
  MiddleBabylonianScript
  MiddleAssyrianScript
  AssyroMittanianScript
  Unclassified
}

enum ManuscriptStatus {
  InCreation
  Created
  Reviewed
  ReviewMerged
  ExecutiveReviewed
  ExecutiveReviewMerged
  Approved
}

type TransliterationLine {
  lineIndex: Int!
  lineInput: String!
  result: TransliterationLineResult
}

type TransliterationLineResult {
  lineNumber: Int!
  isAbsolute: Boolean!
  words: [Word!]!
}

type Word {
  input: String!
  content: [WordContentUnion!]!
}

union WordContentUnion = StringContent | DamageContent | CorrectionContent | NumeralContent | MarkContent | XContent

type StringContent {
  type: StringContentTypeEnum!
  content: String!
}

enum StringContentTypeEnum {
  Hittite
  Akadogramm
  Determinativ
  MaterLectionis
  Sumerogramm
}

type DamageContent {
  type: DamageType!
}

enum DamageType {
  DeletionStart
  DeletionEnd
  LesionStart
  LesionEnd
  Rasure
  SurplusStart
  SurplusEnd
  SupplementStart
  SupplementEnd
  UnknownDamageStart
  UnknownDamageEnd
}

type CorrectionContent {
  type: CorrectionType!
}

enum CorrectionType {
  UnsureCorrection
  MaybeUnsureCorrection
  SureCorrection
  SicCorrection
  Ellipsis
  ParagraphEnd
  DoubleParagraphEnd
}

type NumeralContent {
  isSubscript: Boolean!
  content: String!
}

type MarkContent {
  type: MarkType!
  content: String!
}

enum MarkType {
  Sign
  TextGap
  FootNote
  Colon
  Arbitrary
}

type XContent {
  _x: Boolean
}

type Mutation {
  register(userInput: UserInput!): String
  login(username: String!, password: String!): LoggedInUser
  me: LoggedInUserMutations
}

input UserInput {
  username: String!
  password: String!
  passwordRepeat: String!
  name: String!
  affiliation: String
  email: String!
}

type LoggedInUser {
  username: String!
  name: String!
  affiliation: String
  jwt: String!
}

type LoggedInUserMutations {
  createManuscript(values: ManuscriptMetaDataInput): String
  manuscript(mainIdentifier: String!): ManuscriptMutations
}

input ManuscriptMetaDataInput {
  mainIdentifier: ManuscriptIdentifierInput!
  otherIdentifiers: [ManuscriptIdentifierInput!]!
  palaeographicClassification: PalaeographicClassification!
  palaeographicClassificationSure: Boolean!
  provenance: String
  cthClassification: Int
  bibliography: String
}

input ManuscriptIdentifierInput {
  identifierType: ManuscriptIdentifierType!
  identifier: String!
}

type ManuscriptMutations {
  updateTransliteration(values: [TransliterationLineInput!]!): Boolean!
}

input TransliterationLineInput {
  lineIndex: Int!
  lineInput: String!
  result: TransliterationLineResultInput
}

input TransliterationLineResultInput {
  lineNumber: Int!
  isAbsolute: Boolean!
  words: [WordInput!]!
}

input WordInput {
  input: String!
  content: [WordContentInputUnion!]!
}

input WordContentInputUnion {
  stringContent: StringContentInput
  numeralContent: NumeralContentInput
  damageContent: DamageType
  correctionContent: CorrectionType
  markContent: MarkContentInput
  xContent: XContentInput
}

input StringContentInput {
  type: StringContentTypeEnum!
  content: String!
}

input NumeralContentInput {
  isSubscript: Boolean!
  content: String!
}

input MarkContentInput {
  type: MarkType!
  content: String!
}

input XContentInput {
  x: String
}

enum ManuscriptSide {
  NotIdentifiable
  Obverse
  Reverse
  LowerEdge
  UpperEdge
  LeftEdge
  RightEdge
  SideA
  SideB
  InscriptionNumber
  SealInscription
}

enum ManuscriptLanguage {
  Hittite
  Luwian
  Palaic
  Hattic
  Hurrian
  Akkadian
  Sumerian
  NotIdentifiable
}

enum ManuscriptColumn {
  None
  I
  II
  III
  IV
  V
  VI
  VII
  VIII
  IX
  X
  XI
  XII
  LeftColumn
  MiddleColumn
  RightColumn
  ColumnDivider
}

enum ManuscriptColumnModifier {
  None
  Slash
  SlashQuestion
}
